@model IEnumerable<MVC.Models.mvcBudget>

@{
    ViewBag.Title = "Index";
}

<h2>Total Expense Limit</h2>

@*<p>
    <a href="@Url.Action("AddOrEdit","Budget")" class="btn nt-primary"><i class=" fa fa-plus"></i>Add Budget</a>
</p>*@
<table class="table" style="border: 2px solid ;border-style:solid;border-color:orangered">
    <tr class="info">

        <th>
            @Html.DisplayNameFor(model => model.BudgetName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Money_Limit)
        </th>
        <th>Action</th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.BudgetName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Money_Limit)
            </td>
            <td>
                <a href="@Url.Action("AddOrEdit","Budget", new {id= item.BudgetId} )" class="btn btn-warning btn-xs">Edit</a>|

                <a onclick="Delete(@item.BudgetId)" class="btn btn-danger btn-xs">Delete</a>
            </td>
        </tr>
    }

</table>
<a href="@Url.Action("Index", "Home")" class="btn btn-primary">Back to Home</a>
@section scripts{

    <script>
       
        $(function () {
            var successmsg = '@TempData["SuccesMessage"]'
            if (successmsg != '')
                alertify.success(successmsg);
        });

        function Delete(id) {
            alertify.confirm('Budget ', 'Are you Sure to delete ', function () {
                window.location.href='@Url.Action("Delete","Budget")/' + id;
            }, null);

        }
    </script>

}
